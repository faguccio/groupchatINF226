INFO:root:Server started at 1667411577.349698
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:04] "[32mGET /index.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:04] "GET /login?next=%2Findex.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:04] "GET /highlight.css HTTP/1.1" 200 -
INFO:root:User: bob is logging IN
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:05] "[32mPOST /login?next=%2Findex.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:05] "GET /index.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:05] "GET /highlight.css HTTP/1.1" 200 -
INFO:root:Server started at 1667411629.6674035
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:53] "[32mGET /index.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:53] "GET /login?next=%2Findex.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:53] "GET /highlight.css HTTP/1.1" 200 -
INFO:root:User: bob is logging IN
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:54] "[32mPOST /login?next=%2Findex.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:54] "GET /index.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:55] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:59] "[32mGET /index.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:59] "GET /login?next=%2Findex.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:59] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:53:59] "[36mGET /favicon.png HTTP/1.1[0m" 304 -
INFO:root:User: Alice is logging IN
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:54:01] "[32mPOST /login?next=%2Findex.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:54:01] "GET /index.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:54:01] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:54:30] "POST /new?recipients=Alice&message=Ciao%20ALice&replyId= HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:54:53] "POST /new?recipients=bob&message=Ciao%20bob&replyId= HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:55:08] "GET /messages HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 18:55:19] "GET /messages/ID?q=* HTTP/1.1" 200 -
INFO:root:Server started at 1667412590.4979265
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:09:53] "[33mGET /index.html/mordor.log HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:09:58] "[33mGET /index.html/mordor.log HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:10:08] "[32mGET / HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:10:08] "GET /login?next=%2F HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:10:08] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:10:15] "[33mGET /l../ HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:10:28] "[33mGET /template/ HTTP/1.1[0m" 404 -
INFO:root:Server started at 1667414263.488649
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:37:45] "[33mGET /template/ HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:38:12] "[32mGET / HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:38:12] "GET /login?next=%2F HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:38:12] "GET /highlight.css HTTP/1.1" 200 -
INFO:root:User: bob is logging IN
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:38:14] "[32mPOST /login?next=%2F HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:38:14] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:38:14] "GET /highlight.css HTTP/1.1" 200 -
ERROR:globalss:Exception on /new [POST]
Traceback (most recent call last):
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask_login/utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
  File "/home/f4g4/Desktop/softsec/ass2a/messageAPI.py", line 97, in new_message
    return utils.insert_message(username, timestamp, message, replyId, recipients)
  File "/home/f4g4/Desktop/softsec/ass2a/utils.py", line 138, in insert_message
    return utils.format_messages_html(utils.format_message((sender, timestamp, content, replyId, recipients)))
NameError: name 'utils' is not defined
INFO:werkzeug:127.0.0.1 - - [02/Nov/2022 19:38:16] "[35m[1mPOST /new?recipients=Alice&message=A%20message...&replyId= HTTP/1.1[0m" 500 -
INFO:root:Server started at 1667465888.6243107
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 09:58:12] "[32mGET / HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 09:58:12] "GET /login?next=%2F HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 09:58:12] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 09:58:12] "GET /favicon.png HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 09:58:14] "GET /register HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 09:58:14] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 09:58:27] "[32mPOST /register HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 09:58:27] "GET /index.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 09:58:27] "GET /highlight.css HTTP/1.1" 200 -
INFO:root:Server started at 1667466058.2063057
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:01:03] "[32mGET /index.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:01:03] "GET /login?next=%2Findex.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:01:03] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:01:04] "GET /register HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:01:05] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:01:17] "[32mPOST /register HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:01:17] "GET /index.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:01:17] "GET /highlight.css HTTP/1.1" 200 -
ERROR:globalss:Exception on /messages [GET]
Traceback (most recent call last):
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask_login/utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
  File "/home/f4g4/Desktop/softsec/ass2a/messageAPI.py", line 35, in get_messages
    user = flask.session['username']
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask/sessions.py", line 80, in __getitem__
    return super().__getitem__(key)
KeyError: 'username'
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:01:33] "[35m[1mGET /messages HTTP/1.1[0m" 500 -
INFO:root:Server started at 1667466186.524296
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:03:08] "[32mGET /index.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:03:08] "GET /login?next=%2Findex.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:03:08] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:03:09] "GET /register HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:03:09] "GET /highlight.css HTTP/1.1" 200 -
INFO:root:Succesful registration for {username}
INFO:root:User: anya is logging IN
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:03:22] "[32mPOST /register HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:03:22] "GET /index.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:03:22] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:03:26] "GET /messages HTTP/1.1" 200 -
ERROR:globalss:Exception on /new [POST]
Traceback (most recent call last):
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/f4g4/.local/lib/python3.10/site-packages/flask_login/utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
  File "/home/f4g4/Desktop/softsec/ass2a/messageAPI.py", line 97, in new_message
    return utils.insert_message(username, timestamp, message, replyId, recipients)
  File "/home/f4g4/Desktop/softsec/ass2a/utils.py", line 138, in insert_message
    return format_messages_html(format_message((sender, timestamp, content, replyId, recipients)))
  File "/home/f4g4/Desktop/softsec/ass2a/utils.py", line 170, in format_message
    id, sender, timestamp, content, replyId, recipients = message
ValueError: not enough values to unpack (expected 6, got 5)
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:03:39] "[35m[1mPOST /new?recipients=Alice&message=Hi%20Alice,%20wussap%3F&replyId= HTTP/1.1[0m" 500 -
INFO:root:Server started at 1667466308.701261
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:11] "[32mGET /index.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:11] "GET /login?next=%2Findex.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:11] "GET /highlight.css HTTP/1.1" 200 -
INFO:root:User: anya is logging IN
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:15] "[32mPOST /login?next=%2Findex.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:15] "GET /index.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:15] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:24] "GET /messages HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:25] "POST /new?recipients=Alice&message=Hi%20Alice%20wassup%3F&replyId= HTTP/1.1" 200 -
INFO:root:Server started at 1667466350.165296
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:53] "[32mGET /index.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:53] "GET /login?next=%2Findex.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:53] "GET /highlight.css HTTP/1.1" 200 -
INFO:root:User: anya is logging IN
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:55] "[32mPOST /login?next=%2Findex.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:55] "GET /index.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:56] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:05:57] "GET /messages HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:06:12] "POST /new?recipients=Alice&message=Hi%20Alice%20wassup%3F&replyId= HTTP/1.1" 200 -
INFO:root:Server started at 1667466432.5705764
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:07:15] "[32mGET /index.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:07:15] "GET /login?next=%2Findex.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:07:15] "GET /highlight.css HTTP/1.1" 200 -
INFO:root:User: anya is logging IN
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:07:18] "[32mPOST /login?next=%2Findex.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:07:18] "GET /index.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:07:18] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:07:20] "GET /messages HTTP/1.1" 200 -
INFO:root:Server started at 1667466480.0913975
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:08:03] "[32mGET /index.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:08:03] "GET /login?next=%2Findex.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:08:03] "GET /highlight.css HTTP/1.1" 200 -
INFO:root:User: anya is logging IN
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:08:05] "[32mPOST /login?next=%2Findex.html HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:08:05] "GET /index.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:08:05] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:08:07] "GET /messages HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:08:26] "POST /new?recipients=Alice&message=ALICE%20FUCKING%20BASTARD%20WHY%20AINT%20U%20Replying%3F&replyId= HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:08:29] "GET /messages HTTP/1.1" 200 -
INFO:root:User: anya is logging OUT
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:08:48] "[32mGET /logout HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:08:48] "GET /login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:08:48] "GET /highlight.css HTTP/1.1" 200 -
INFO:root:Server started at 1667467540.5817125
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:25:46] "GET /login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:25:46] "GET /highlight.css HTTP/1.1" 200 -
INFO:root:User: anya is logging IN
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:25:49] "[32mPOST /login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:25:49] "GET /index.html HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:25:49] "GET /highlight.css HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Nov/2022 10:25:52] "GET /messages HTTP/1.1" 200 -
